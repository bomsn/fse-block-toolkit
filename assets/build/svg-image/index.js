(()=>{"use strict";const e=window.wp.blocks,t=window.wp.i18n,i=window.wp.blockEditor,l=window.wp.components,n=window.wp.element,o=e=>{const t=document.createElement("div");t.innerHTML=e.trim();const i=t.querySelector("svg");return i?i.outerHTML:""},s=window.ReactJSXRuntime,r=JSON.parse('{"UU":"fse-block-toolkit/svg-image"}');(0,e.registerBlockType)(r.UU,{edit:function(e){const{attributes:r,setAttributes:h}=e;(0,n.useEffect)((()=>{const e=(new DOMParser).parseFromString(r.html,"image/svg+xml").querySelector("svg");if(e){const t=parseInt(e.getAttribute("width"))||r.width,i=parseInt(e.getAttribute("height"))||r.height;t===r.width&&i===r.height||h({width:t,height:i})}}),[r.html]);const a=(e,t)=>{const i=(new DOMParser).parseFromString(r.html,"image/svg+xml").querySelector("svg");i&&(i.setAttribute("width",e),i.setAttribute("height",t),h({html:o(i.outerHTML),width:e,height:t}))};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.InspectorControls,{children:[(0,s.jsxs)(l.PanelBody,{title:"Hyperlink",children:[(0,s.jsx)(l.ToggleControl,{label:"Enable Hyperlink",checked:r.link,onChange:e=>h({link:e})}),r.link&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.TextControl,{label:"Link URL",value:r.linkUrl,onChange:e=>h({linkUrl:e})}),(0,s.jsx)(l.TextControl,{label:"Link Title",value:r.linkTitle,onChange:e=>h({linkTitle:e})})]})]}),(0,s.jsx)(l.PanelBody,{title:(0,t.__)("SVG Code","fse-block-toolkit"),children:(0,s.jsx)(l.TextareaControl,{label:"HTML",help:"Enter SVG code",value:r.html,onChange:e=>h({html:e}),rows:10})}),(0,s.jsxs)(l.PanelBody,{title:(0,t.__)("SVG Size","fse-block-toolkit"),children:[(0,s.jsx)(l.RangeControl,{label:"Width",value:r.width,onChange:e=>a(e,r.height),min:10,max:1e3}),(0,s.jsx)(l.RangeControl,{label:"Height",value:r.height,onChange:e=>a(r.width,e),min:10,max:1e3})]})]}),(0,s.jsx)("div",{...(0,i.useBlockProps)({className:"fse-block-toolkit-svg",style:{width:r.width,height:r.height}}),children:(0,s.jsx)(n.RawHTML,{children:r.html})})]})},save:function(e){const{attributes:t}=e,l=o(t?.html);return(0,s.jsx)("div",{...i.useBlockProps.save({className:"fse-block-toolkit-svg",style:{width:t.width,height:t.height}}),children:t.link&&t.linkUrl?(0,s.jsx)("a",{href:t.linkUrl,"aria-label":t.linkTitle?t.linkTitle:void 0,children:(0,s.jsx)(n.RawHTML,{children:l})}):(0,s.jsx)(n.RawHTML,{children:l})})}})})();